{"ast":null,"code":"import { Book } from '../models/Book';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/books.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/forms\";\nfunction AdminComponent_tr_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"button\", 1);\n    i0.ɵɵlistener(\"click\", function AdminComponent_tr_19_Template_button_click_6_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const book_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.deleteBook(book_r1));\n    });\n    i0.ɵɵtext(7, \"Akcija\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const book_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r1.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(book_r1.author);\n  }\n}\nexport class AdminComponent {\n  constructor(bookService) {\n    this.bookService = bookService;\n    this.name = \"\";\n    this.author = \"\";\n    this.pages = 0;\n    this.allBooks = [];\n    this.newBook = new Book();\n  }\n  ngOnInit() {\n    this.bookService.getAllBooks().subscribe(data => {\n      this.allBooks = data;\n    });\n  }\n  addBook() {\n    this.bookService.addBook(this.newBook).subscribe(data => {\n      if (data > 0) {\n        alert(\"Upesno dodata knjiga\");\n        this.ngOnInit();\n      }\n    });\n  }\n  deleteBook(b) {\n    this.bookService.deleteBook(b).subscribe(data => {\n      if (data == 1) {\n        this.ngOnInit();\n      }\n    });\n  }\n  static #_ = this.ɵfac = function AdminComponent_Factory(t) {\n    return new (t || AdminComponent)(i0.ɵɵdirectiveInject(i1.BooksService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdminComponent,\n    selectors: [[\"app-admin\"]],\n    decls: 20,\n    vars: 4,\n    consts: [[\"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function AdminComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtext(0, \"Name: \");\n        i0.ɵɵelementStart(1, \"input\", 0);\n        i0.ɵɵlistener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_1_listener($event) {\n          return ctx.newBook.name = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(2, \"br\");\n        i0.ɵɵtext(3, \"\\nAuthor: \");\n        i0.ɵɵelementStart(4, \"input\", 0);\n        i0.ɵɵlistener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_4_listener($event) {\n          return ctx.newBook.author = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(5, \"br\");\n        i0.ɵɵtext(6, \"\\nPages: \");\n        i0.ɵɵelementStart(7, \"input\", 0);\n        i0.ɵɵlistener(\"ngModelChange\", function AdminComponent_Template_input_ngModelChange_7_listener($event) {\n          return ctx.newBook.pages = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(8, \"br\");\n        i0.ɵɵelementStart(9, \"button\", 1);\n        i0.ɵɵlistener(\"click\", function AdminComponent_Template_button_click_9_listener() {\n          return ctx.addBook();\n        });\n        i0.ɵɵtext(10, \"Add\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(11, \"table\")(12, \"tr\")(13, \"th\");\n        i0.ɵɵtext(14, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(15, \"th\");\n        i0.ɵɵtext(16, \"Author\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"th\");\n        i0.ɵɵtext(18, \"Akcija\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵtemplate(19, AdminComponent_tr_19_Template, 8, 2, \"tr\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngModel\", ctx.newBook.name);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.newBook.author);\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"ngModel\", ctx.newBook.pages);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngForOf\", ctx.allBooks);\n      }\n    },\n    dependencies: [i2.NgForOf, i3.DefaultValueAccessor, i3.NgControlStatus, i3.NgModel],\n    styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Book","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AdminComponent_tr_19_Template_button_click_6_listener","restoredCtx","ɵɵrestoreView","_r3","book_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","deleteBook","ɵɵadvance","ɵɵtextInterpolate","name","author","AdminComponent","constructor","bookService","pages","allBooks","newBook","ngOnInit","getAllBooks","subscribe","data","addBook","alert","b","_","ɵɵdirectiveInject","i1","BooksService","_2","selectors","decls","vars","consts","template","AdminComponent_Template","rf","ctx","AdminComponent_Template_input_ngModelChange_1_listener","$event","ɵɵelement","AdminComponent_Template_input_ngModelChange_4_listener","AdminComponent_Template_input_ngModelChange_7_listener","AdminComponent_Template_button_click_9_listener","ɵɵtemplate","AdminComponent_tr_19_Template","ɵɵproperty"],"sources":["C:\\Users\\Gile\\Desktop\\PIA vezbe\\Za vezbanje\\frontend\\src\\app\\admin\\admin.component.ts","C:\\Users\\Gile\\Desktop\\PIA vezbe\\Za vezbanje\\frontend\\src\\app\\admin\\admin.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { BooksService } from '../services/books.service';\nimport { Book } from '../models/Book';\n\n@Component({\n  selector: 'app-admin',\n  templateUrl: './admin.component.html',\n  styleUrls: ['./admin.component.css']\n})\nexport class AdminComponent implements OnInit {\n  name=\"\";\n  author=\"\";\n  pages=0;\n\n  allBooks:Book[]=[];\n  constructor(private bookService: BooksService){\n\n  }\n  ngOnInit(): void {\n    this.bookService.getAllBooks().subscribe(\n      data=>{\n        this.allBooks=data;\n      }\n    )\n  }\n  newBook:Book =new Book();\n  addBook(){\n  \n    this.bookService.addBook(this.newBook).subscribe(\n      data=>{\n        if(data>0)\n        {alert(\"Upesno dodata knjiga\")\n          this.ngOnInit();\n        }\n\n      }\n    )\n  }\n\n  deleteBook(b:Book){\n    this.bookService.deleteBook(b).subscribe(\n      data=>{\n        if(data==1){\n          this.ngOnInit();\n        }\n      }\n    )\n  }\n}\n","Name: <input type=\"text\" [(ngModel)]=\"newBook.name\"><br/>\nAuthor: <input type=\"text\" [(ngModel)]=\"newBook.author\"><br/>\nPages: <input type=\"text\" [(ngModel)]=\"newBook.pages\"><br/>\n<button (click)=\"addBook()\">Add</button>\n<table>\n    <tr>\n        <th>Name</th>\n        <th>Author</th>\n        <th>Akcija</th>\n    </tr>\n    <tr *ngFor=\"let book of allBooks\">\n        <td>{{book.name}}</td>\n        <td>{{book.author}}</td>\n        <td><button (click)=\"deleteBook(book)\">Akcija</button></td>\n    </tr>\n</table>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}